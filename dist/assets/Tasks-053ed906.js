import{d,r as _,w as O,v as L,o,c as u,a as h,b as f,e as n,t as v,F as $,f as x,g as C,h as D,u as w,i as p,j as F,T as J}from"./index-eecfdffc.js";const y=d({__name:"InputForGetTask",props:{currentTask:{}},setup(t){const a=t,s=_("");return a.currentTask&&(s.value=a.currentTask),(e,l)=>O((o(),u("input",{placeholder:"Добавить задачу",class:"input-for-change","onUpdate:modelValue":l[0]||(l[0]=c=>s.value=c),onChange:l[1]||(l[1]=c=>(e.$emit("add-task",s.value),s.value="")),autofocus:""},null,544)),[[L,s.value]])}});const T=(t,a,s)=>{t.splice(t.indexOf(a),1),t.length?localStorage.setItem(s,JSON.stringify(t)):localStorage.removeItem(s)},S=(t,a)=>{if(localStorage.getItem(t))for(let s of JSON.parse(localStorage.getItem(t).split(",")))a.push(s)},A={class:"tasks-list__number-of-tasks"},B={class:"tasks-list__single-task"},V=["onClick"],G=["onClick"],j=["onClick"],E=d({__name:"TasksList",props:{newTask:{}},emits:["replace-task-to-done-tasks"],setup(t,{emit:a}){const s=t,e=_([]),l=_(),c=_(!1),r=_("");S("tasksList",e.value),h(()=>s.newTask,()=>{e.value.push(s.newTask),localStorage.setItem("tasksList",JSON.stringify(e.value))});const g=i=>{a("replace-task-to-done-tasks",i),T(e.value,i,"tasksList")},b=f(()=>e.value?e.value.length:0),I=i=>{console.log(i),r.value=i,l.value=e.value.indexOf(i),c.value=!0},N=i=>{e.value[l.value]=i,localStorage.setItem("tasksList",JSON.stringify(e.value))};return(i,K)=>(o(),u("div",null,[n("p",A," Поставленные задачи: "+v(b.value),1),(o(!0),u($,null,x(e.value,k=>(o(),u("ul",{key:k.id},[n("div",B,[n("li",{class:"tasks-list__single-task-item",onClick:m=>I(k)},v(k),9,V),c.value&&r.value===k?(o(),C(y,{key:0,currentTask:r.value,onAddTask:N,class:"changed-task"},null,8,["currentTask"])):D("",!0),n("button",{class:"tasks-list__single-task-delite",onClick:m=>g(k)}," ✔ ",8,G),n("button",{class:"tasks-list__single-task-delite",onClick:m=>w(T)(e.value,k,"tasksList")}," x ",8,j)])]))),128))]))}});const M={class:"tasks-list__number-of-tasks"},R={class:"tasks-list__single-task"},U={class:"tasks-list__single-task-item"},q=["onClick"],z=d({__name:"DoneTasksList",props:{doneTask:{}},setup(t){const a=t,s=_([]);S("doneTasks",s.value),h(()=>a.doneTask,()=>{s.value.push(a.doneTask),localStorage.setItem("doneTasks",JSON.stringify(s.value))});const e=f(()=>s.value?s.value.length:0);return(l,c)=>(o(),u("div",null,[n("p",M," Выполненные задачи: "+v(e.value),1),(o(!0),u($,null,x(s.value,r=>(o(),u("ul",{key:r.id},[n("div",R,[n("li",U,v(r),1),n("button",{class:"tasks-list__single-task-delite",onClick:g=>w(T)(s.value,r,"doneTasks")}," x ",8,q)])]))),128))]))}}),H={class:"all-tasks"},P={class:"all-tasks__tasks-list",style:{"border-right":"2px solid var(--text-color)"}},Q={class:"all-tasks__tasks-list"},W=d({__name:"AllTasks",props:{newTask:{}},setup(t){const a=t,s=_("");return(e,l)=>(o(),u("div",H,[n("div",P,[p(E,{newTask:a.newTask,onReplaceTaskToDoneTasks:l[0]||(l[0]=c=>s.value=c)},null,8,["newTask"])]),n("div",Q,[p(z,{doneTask:s.value},null,8,["doneTask"])])]))}});const X={class:"tasks-main"},Y=n("h1",{class:"tasks-main__title"},"Определи свои цели!",-1),Z={class:"tasks-main__all-tasks"},es=d({__name:"Tasks",setup(t){const a=_(""),s=e=>{console.log(e),a.value=e};return(e,l)=>(o(),C(J,{appear:"",name:"tasks"},{default:F(()=>[n("main",X,[Y,p(y,{onAddTask:s}),n("div",Z,[p(W,{newTask:a.value},null,8,["newTask"])])])]),_:1}))}});export{es as default};
